<div class="lesson-container mt-4 p-4 border rounded shadow-sm bg-white" dir="rtl">
  <!-- Simple Filters -->
  <div class="filters-section mb-3">
    <div class="row">
      <div class="col-md-4">
        <input type="text" class="form-control" placeholder="驻砖 驻 砖 砖转砖" 
               [(ngModel)]="userNameFilter" (input)="onFilterChange()">
      </div>
      <div class="col-md-4">
        <input type="text" class="form-control" placeholder="驻砖 驻 拽专"
               [(ngModel)]="categoryFilter" (input)="onFilterChange()">
      </div>
      <div class="col-md-4">
        <button class="btn btn-secondary" (click)="userNameFilter=''; categoryFilter=''; onFilterChange()">
          拽 住
        </button>
      </div>
    </div>
  </div>

  <div class="admin-layout">
    <div class="table-column">
      <table>
        <thead>
          <tr>
            <th>砖 砖转砖</th>
            <th>砖 </th>
            <th>转专 </th>
          </tr>
        </thead>
        <tbody>
          @for (row of filteredLessons; track row._id) {
            <tr (click)="selectPrompt(row)" [class.selected]="selectedPrompt?._id === row._id">
              <td>{{ row.user_id?.name }}</td>
              <td>{{ row.sub_category_id?.name }}</td>
              <td>{{ row.created_at | date:'dd/MM/yy HH:mm' }}</td>
            </tr>
          }
        </tbody>
      </table>
      
      <div class="mt-2">
        <small class="text-muted">爪 {{ filteredLessons.length }} 转 {{ allLessons.length }} 砖注专 ( -10)</small>
      </div>
    </div>

    <div class="detail-column">
      @if (selectedPrompt) {
        <div class="lesson-header border-bottom pb-2 mb-3">
          <h2 class="text-primary"> 驻专 砖注专</h2>
          <small class="text-muted">
            拽专: {{ selectedPrompt.category_id.name }}
          </small>
        </div>
        
        <app-lesson-view [content]="selectedPrompt"></app-lesson-view>
      } @else {
        <div class="text-center mt-5 text-muted">
          <p> 专 砖专  爪驻 驻专 </p>
        </div>
      }
    </div>
  </div>
</div>